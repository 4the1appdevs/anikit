// Generated by LiveScript 1.3.1
(function(){
  var easingFit, cubic, anikit, move, ret;
  if (typeof require != 'undefined' && require !== null) {
    easingFit = require('easing-fit');
    cubic = require('cubic');
    anikit = require('../anikit');
  }
  move = {
    prop: function(f, c){
      var value, ret, ref$;
      value = this.value(f.value, c);
      ret = {
        transform: "matrix(" + anikit.util.m4to3(value.transform).join(',') + ")"
      };
      if (c.fade) {
        ret.opacity = (ref$ = (0.5 - Math.abs(0.5 - f.value)) * 10) < 1 ? ref$ : 1;
      }
      return ret;
    },
    value: function(t, c){
      return {
        transform: anikit.util[c.dir % 2 ? 'tx' : 'ty']((c.dir > 2 ? -1 : 1) * 2 * (t - 0.5) * c.offset)
      };
    }
  };
  ret = {
    name: 'move',
    type: 'animation',
    preset: {
      "move-ltr": import$({
        offset: 100,
        dir: 1
      }, move),
      "move-rtl": import$({
        offset: 100,
        dir: 3
      }, move),
      "move-ttb": import$({
        offset: 100,
        dir: 2
      }, move),
      "move-btt": import$({
        offset: 100,
        dir: 4
      }, move),
      "move-alt-ltr": import$({
        offset: 100,
        dir: 1,
        fade: true
      }, move),
      "move-alt-rtl": import$({
        offset: 100,
        dir: 3,
        fade: true
      }, move),
      "move-alt-ttb": import$({
        offset: 100,
        dir: 2,
        fade: true
      }, move),
      "move-alt-btt": import$({
        offset: 100,
        dir: 4,
        fade: true
      }, move)
    },
    edit: {
      steep: {
        'default': 0.3,
        type: 'number',
        min: 0.3,
        max: 1,
        step: 0.01
      },
      offset: {
        name: "Move Distance",
        'default': 100,
        type: 'number',
        unit: 'px',
        min: 0,
        max: 1000
      },
      dir: {
        'default': 1,
        type: 'number',
        hidden: true
      },
      unit: {
        'default': 'px',
        type: 'choice',
        values: ["px", "%", ""]
      },
      fade: {
        type: 'boolean',
        'default': false
      }
    },
    timing: function(t, opt){
      return ((2 * t + 1) % 2 - 1) * 0.5 + 0.5;
    },
    css: function(opt){
      return easingFit.toKeyframes([
        {
          percent: 0,
          value: 0
        }, {
          percent: 10,
          value: 0.1
        }, {
          percent: 90,
          value: 0.9
        }, {
          percent: 100,
          value: 1
        }
      ], {
        name: opt.name,
        prop: function(f, c){
          var ref$, a, b, ret;
          ref$ = [0, (f.value - 0.5) * c.offset * (opt.dir > 2 ? -1 : 1)], a = ref$[0], b = ref$[1];
          if (c.dir % 2) {
            ref$ = [b, a], a = ref$[0], b = ref$[1];
          }
          ret = {
            transform: "matrix(1,0,0,1," + a + "," + b + ")"
          };
          if (c.fade) {
            ret.opacity = (ref$ = (0.5 - Math.abs(0.5 - f.value)) * 10) < 1 ? ref$ : 1;
          }
          return ret;
        },
        config: opt
      });
    },
    js: function(t, opt){
      return opt.prop({
        value: t
      }, opt);
    },
    affine: function(t, opt){
      return opt.value(t, opt);
    }
  };
  if (typeof module != 'undefined' && module !== null) {
    module.exports = ret;
  }
  return ret;
})();
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}