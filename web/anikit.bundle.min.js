(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){var byteToHex=[];for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}function bytesToUuid(buf,offset){var i=offset||0;var bth=byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}module.exports=bytesToUuid},{}],2:[function(require,module,exports){var getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){getRandomValues(rnds8);return rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;rnds[i]=r>>>((i&3)<<3)&255}return rnds}}},{}],3:[function(require,module,exports){var rng=require("./lib/rng");var bytesToUuid=require("./lib/bytesToUuid");function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options==="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;++ii){buf[i+ii]=rnds[ii]}}return buf||bytesToUuid(rnds)}module.exports=v4},{"./lib/bytesToUuid":1,"./lib/rng":2}],4:[function(require,module,exports){var Func,FuncMembers,Bezier,BezierMembers;Func=function(a,b,c,d){this.a=a;this.b=b;this.c=c;this.d=d;return this};Func.prototype=import$(Object.create(Object.prototype),FuncMembers={calc:function(x,a,b,c,d){a==null&&(a=this.a);b==null&&(b=this.b);c==null&&(c=this.c);d==null&&(d=this.d);return a*Math.pow(x,3)+b*Math.pow(x,2)+c*x+d},root:function(y,a,b,c,d){var A,B,C,delta,y1,y2,x1,k,t,theta,x2,x3;y==null&&(y=0);a==null&&(a=this.a);b==null&&(b=this.b);c==null&&(c=this.c);d==null&&(d=this.d);d=d-y;A=b*b-3*a*c;B=b*c-9*a*d;C=c*c-3*b*d;delta=B*B-4*A*C;if(A===B&&B===0){return[-b/(3*a),-c/b,-3*d/c]}if(delta>0){y1=A*b+3*a*(-B+Math.sqrt(B*B-4*A*C))/2;y2=A*b+3*a*(-B-Math.sqrt(B*B-4*A*C))/2;x1=(-b-(Math.cbrt(y1)+Math.cbrt(y2)))/(3*a);return[x1]}if(delta===0){k=B/A;return[-b/a+k,-k/2,-k/2]}if(delta<0){t=(2*A*b-3*a*B)/(2*A*Math.sqrt(A));theta=Math.acos(t);x1=(-b-2*Math.sqrt(A)*Math.cos(theta/3))/(3*a);x2=(-b+Math.sqrt(A)*(Math.cos(theta/3)+Math.sqrt(3)*Math.sin(theta/3)))/(3*a);x3=(-b+Math.sqrt(A)*(Math.cos(theta/3)-Math.sqrt(3)*Math.sin(theta/3)))/(3*a);return[x1,x2,x3]}}});import$(Func,FuncMembers);Func.glsl="float cubic(float x, vec4 p) {\n  return p.x * x * x * x + p.y * x * x + p.z * x + p.w;\n}\n/* 3 roots, 1 for root count */\nvec4 cubicRoot(float y, vec4 p) {\n  float a, b, c, d, A, B, C, D, y1, y2, k, theta, x1, x2, x3;\n  d = d - y;\n  A = b * b - 3. * a * c;\n  B = b * c - 9. * a * d;\n  C = c * c - 3. * b * d;\n  D = B * B - 4. * A * C;\n  if(A==B && B==0.) return vec4(-b / (3. * a), -c / b, -3. * d / c, 3.);\n  if(D > 0) {\n    y1 = A * b + 3. * a * (-B + sqrt(D)) * 0.5;\n    y2 = A * b + 3. * a * (-B - sqrt(D)) * 0.5;\n    return vec4(vec3(-b - (cbrt(y1) + cbrt(y2)) / ( 3. * a)), 1.);\n  } else if(D == 0) { \n    k = B/A;\n    return vec4((-b/a) + k, -k/2., -k/2., 2.);\n  } else if(D < 0) {\n    k = (2. * A * b - 3 * a * B) / (2. * A * sqrt(A));\n    theta = acos(k) / 3.;\n    x1 = (-b - 2. * sqrt(A) * cos(theta)) / (3. * a);\n    x2 = (-b + sqrt(A) * (cos(theta) + sqrt(3.) * sin(theta))) / (3. * a);\n    x3 = (-b + sqrt(A) * (cos(theta) - sqrt(3.) * sin(theta))) / (3. * a);\n    return vec4(x1, x2, x3, 3.);\n  }\n}";Bezier=function(p){var coff;this.p=p;this.coff=coff=[3*p[0]-3*p[2]+1,-6*p[0]+3*p[2],3*p[0],0];this.eq=new Func(coff[0],coff[1],coff[2],coff[3]);return this};Bezier.prototype=import$(Object.create(Object.prototype),BezierMembers={x:function(t,p){p==null&&(p=this.p);return 3*Math.pow(1-t,2)*t*p[0]+3*(1-t)*t*t*p[2]+t*t*t},y:function(t,p){p==null&&(p=this.p);return 3*Math.pow(1-t,2)*t*p[1]+3*(1-t)*t*t*p[3]+t*t*t},t:function(x,p){var ret,r;ret=p?Func.root(x,3*p[0]-3*p[2]+1,-6*p[0]+3*p[2],3*p[0],0):this.eq.root(x);r=ret.filter(function(it){return it>=0&&it<=1})[0];return r!=null?r:ret[0]}});import$(Bezier,BezierMembers);module.exports={Func:Func,Bezier:Bezier};function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}},{}],5:[function(require,module,exports){var fitCurve,svgPathProperties,round,sampleFunc,fit,toKeyframes,fitToKeyframes,sampleSvg,searchSvgPath,fromSvg,stepFromSvg;fitCurve=require("fit-curve");svgPathProperties=require("svg-path-properties");round=function(n,d){var p,ret;d==null&&(d=5);p=Math.pow(10,d);ret=(Math.round(n*p)/p+"").split(".");return+(ret[0]+(ret[1]?"."+ret[1].substring(0,d):""))};sampleFunc=function(t){return Math.abs(Math.sin(Math.pow(3*t+1.77,2))/(Math.pow(3*t+2,5*t)+1))};fit=function(func,opt){var ref$,ox,oy,dy,count,segments,i$,step$,to$,x,y,points,segIdx,seg,cur,j$,to1$,py,keyframes,len$,ps,curves,len1$,curve,x1,x2,y1,y2,ncurve,k$,j;opt==null&&(opt={});opt=import$({segSampleCount:100,precision:1e-4,sampleCount:5,errorThreshold:.1,start:0,end:1},opt);ref$=[opt.start,0,1,0,[]],ox=ref$[0],oy=ref$[1],dy=ref$[2],count=ref$[3],segments=ref$[4];for(i$=opt.start,to$=opt.end,step$=1/opt.segSampleCount;step$<0?i$>=to$:i$<=to$;i$+=step$){x=i$;y=func(x);if(count>2&&Math.sign(y-oy)*Math.sign(dy)<0){segments.push([ox,x]);ox=x}dy=y-oy;oy=y;count=count+1}segments.push([ox,opt.end]);points=[];for(i$=0,to$=segments.length;i$<to$;++i$){segIdx=i$;seg=segments[segIdx];cur=[];for(j$=seg[0],to1$=seg[1],step$=(seg[1]-seg[0])/opt.sampleCount;step$<0?j$>to1$:j$<to1$;j$+=step$){x=j$;y=Math.round(func(x)*1e3)/1e3;cur.push([Math.round(1e3*x)*.001,Math.round(1e3*y)*.001])}y=Math.round(func(seg[1])*1e3)/1e3;cur.push([Math.round(1e3*seg[1])*.001,Math.round(1e3*y)*.001]);points.push(cur)}py=NaN;keyframes=[];for(i$=0,len$=points.length;i$<len$;++i$){ps=points[i$];curves=fitCurve(ps,opt.errorThreshold);for(j$=0,len1$=curves.length;j$<len1$;++j$){curve=curves[j$];x1=curve[0][0];x2=curve[3][0];y1=curve[0][1];y2=curve[3][1];ncurve=[];if(Math.abs(y1-py)<.5*.01){continue}py=y1;for(k$=0;k$<4;++k$){j=k$;ncurve.push([Math.round((curve[j][0]-x1)/(x2-x1)/opt.precision)*opt.precision,Math.round((curve[j][1]-y1)/(y2-y1)/opt.precision)*opt.precision])}keyframes.push({percent:round(x1*100),value:y1,cubicBezier:[ncurve[1][0],ncurve[1][1],ncurve[2][0],ncurve[2][1]].map(fn$)})}}keyframes.push({percent:opt.end*100,value:y2});return keyframes;function fn$(it){return round(it)}};toKeyframes=function(keyframes,opt){var str,i$,to$,i,keyframe,props,k,v;opt==null&&(opt={});opt=import$({prop:function(f,c){return{content:'"'+f.value+'"'}},name:null,format:"css",config:{}},opt||{});str=opt.name?["@keyframes "+opt.name]:[];if(opt.format==="css"){str=str.concat("{");for(i$=0,to$=keyframes.length;i$<to$;++i$){i=i$;keyframe=keyframes[i];props=fn$().map(fn1$);str=str.concat(["  "+keyframe.percent+"% {",keyframe.cubicBezier?"    animation-timing-function: cubic-bezier("+keyframe.cubicBezier.join(",")+");":void 8].concat(props,["  }"]).filter(fn2$))}str=str.concat("}");str=str.join("\n")}else{for(i$=0,to$=keyframes.length;i$<to$;++i$){i=i$;keyframe=keyframes[i];props=fn3$().map(fn4$);str=str.concat(["  "+keyframe.percent+"%",keyframe.cubicBezier?"    animation-timing-function: cubic-bezier("+keyframe.cubicBezier.join(",")+")":void 8].concat(props).filter(fn5$))}str=str.join("\n")}return str;function fn$(){var ref$,results$=[];for(k in ref$=opt.prop(keyframe,opt.config,i)){v=ref$[k];results$.push([k,v])}return results$}function fn1$(it){return"    "+it[0]+": "+it[1]+";"}function fn2$(it){return it}function fn3$(){var ref$,results$=[];for(k in ref$=opt.prop(keyframe,opt.config,i)){v=ref$[k];results$.push([k,v])}return results$}function fn4$(it){return"    "+it[0]+": "+it[1]}function fn5$(it){return it}};fitToKeyframes=function(step,opt){var ret,ref$;opt==null&&(opt={});ret=fit(step,opt);ret=toKeyframes(ret,{name:(ref$=import$({prop:function(){return{}},format:"css"},opt)).name,prop:ref$.prop,format:ref$.format,config:ref$.config});return ret};sampleSvg="M0,50c0,0,2,0.5,6.7,0c5.6-0.6,3.5-18.1,7.1-18.1s4.2,25.6,8.9,25.6s6.8-10.3,8.4-14c1.9-4.4,7.9-5.4,10.9,0.1C46.7,52.3,100,50,100,50";searchSvgPath=function(p,x,len,err,r,lv){var m,ptr;err==null&&(err=.01);r==null&&(r=[0,1]);lv==null&&(lv=20);m=(r[0]+r[1])*.5;ptr=p.getPointAtLength(m*len);ptr={x:ptr.x*.01,y:ptr.y*.01};if(Math.abs(ptr.x-x)<err||lv<=0){return(.5-ptr.y)*2}if(ptr.x>x){return searchSvgPath(p,x,len,err,[r[0],(r[0]+r[1])*.5],lv-1)}else if(ptr.x<x){return searchSvgPath(p,x,len,err,[(r[0]+r[1])*.5,r[1]],lv-1)}else{return(.5-ptr.y)*2}};fromSvg=function(d,opt){var step;opt==null&&(opt={});step=stepFromSvg(d);return fit(step,opt)};stepFromSvg=function(pathd,opt){var p,len,step,pts,res$,i$,step$,i;opt==null&&(opt={});p=svgPathProperties.svgPathProperties(pathd);len=p.getTotalLength();step=function(t){return searchSvgPath(p,t,len,.001)};if(!opt.presampling){return step}res$=[];for(i$=0,step$=1/opt.sampleCount;step$<0?i$>=1:i$<=1;i$+=step$){i=i$;res$.push(step(i))}pts=res$;return function(t){var idx;t=t*pts.length;idx=Math.floor(t);if(idx===pts.length-1){return pts[idx]}return(pts[idx+1]-pts[idx])*t(-idx)}};module.exports={round:round,sampleFunc:sampleFunc,sampleSvg:sampleSvg,fitToKeyframes:fitToKeyframes,fit:fit,fromSvg:fromSvg,stepFromSvg:stepFromSvg,toKeyframes:toKeyframes};function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}},{"fit-curve":6,"svg-path-properties":7}],6:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["module"],factory)}else if(typeof exports!=="undefined"){factory(module)}else{var mod={exports:{}};factory(mod);global.fitCurve=mod.exports}})(this,function(module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function fitCurve(points,maxError,progressCallback){if(!Array.isArray(points)){throw new TypeError("First argument should be an array")}points.forEach(function(point){if(!Array.isArray(point)||point.length!==2||typeof point[0]!=="number"||typeof point[1]!=="number"){throw Error("Each point should be an array of two numbers")}});points=points.filter(function(point,i){return i===0||!(point[0]===points[i-1][0]&&point[1]===points[i-1][1])});if(points.length<2){return[]}var len=points.length;var leftTangent=createTangent(points[1],points[0]);var rightTangent=createTangent(points[len-2],points[len-1]);return fitCubic(points,leftTangent,rightTangent,maxError,progressCallback)}function fitCubic(points,leftTangent,rightTangent,error,progressCallback){var MaxIterations=20;var bezCurve,u,uPrime,maxError,prevErr,splitPoint,prevSplit,centerVector,toCenterTangent,fromCenterTangent,beziers,dist,i;if(points.length===2){dist=maths.vectorLen(maths.subtract(points[0],points[1]))/3;bezCurve=[points[0],maths.addArrays(points[0],maths.mulItems(leftTangent,dist)),maths.addArrays(points[1],maths.mulItems(rightTangent,dist)),points[1]];return[bezCurve]}u=chordLengthParameterize(points);var _generateAndReport=generateAndReport(points,u,u,leftTangent,rightTangent,progressCallback);bezCurve=_generateAndReport[0];maxError=_generateAndReport[1];splitPoint=_generateAndReport[2];if(maxError<error){return[bezCurve]}if(maxError<error*error){uPrime=u;prevErr=maxError;prevSplit=splitPoint;for(i=0;i<MaxIterations;i++){uPrime=reparameterize(bezCurve,points,uPrime);var _generateAndReport2=generateAndReport(points,u,uPrime,leftTangent,rightTangent,progressCallback);bezCurve=_generateAndReport2[0];maxError=_generateAndReport2[1];splitPoint=_generateAndReport2[2];if(maxError<error){return[bezCurve]}else if(splitPoint===prevSplit){var errChange=maxError/prevErr;if(errChange>.9999&&errChange<1.0001){break}}prevErr=maxError;prevSplit=splitPoint}}beziers=[];centerVector=maths.subtract(points[splitPoint-1],points[splitPoint+1]);if(centerVector[0]===0&&centerVector[1]===0){centerVector=maths.subtract(points[splitPoint-1],points[splitPoint]).reverse();centerVector[0]=-centerVector[0]}toCenterTangent=maths.normalize(centerVector);fromCenterTangent=maths.mulItems(toCenterTangent,-1);beziers=beziers.concat(fitCubic(points.slice(0,splitPoint+1),leftTangent,toCenterTangent,error,progressCallback));beziers=beziers.concat(fitCubic(points.slice(splitPoint),fromCenterTangent,rightTangent,error,progressCallback));return beziers}function generateAndReport(points,paramsOrig,paramsPrime,leftTangent,rightTangent,progressCallback){var bezCurve,maxError,splitPoint;bezCurve=generateBezier(points,paramsPrime,leftTangent,rightTangent,progressCallback);var _computeMaxError=computeMaxError(points,bezCurve,paramsOrig);maxError=_computeMaxError[0];splitPoint=_computeMaxError[1];if(progressCallback){progressCallback({bez:bezCurve,points:points,params:paramsOrig,maxErr:maxError,maxPoint:splitPoint})}return[bezCurve,maxError,splitPoint]}function generateBezier(points,parameters,leftTangent,rightTangent){var bezCurve,A,a,C,X,det_C0_C1,det_C0_X,det_X_C1,alpha_l,alpha_r,epsilon,segLength,i,len,tmp,u,ux,firstPoint=points[0],lastPoint=points[points.length-1];bezCurve=[firstPoint,null,null,lastPoint];A=maths.zeros_Xx2x2(parameters.length);for(i=0,len=parameters.length;i<len;i++){u=parameters[i];ux=1-u;a=A[i];a[0]=maths.mulItems(leftTangent,3*u*(ux*ux));a[1]=maths.mulItems(rightTangent,3*ux*(u*u))}C=[[0,0],[0,0]];X=[0,0];for(i=0,len=points.length;i<len;i++){u=parameters[i];a=A[i];C[0][0]+=maths.dot(a[0],a[0]);C[0][1]+=maths.dot(a[0],a[1]);C[1][0]+=maths.dot(a[0],a[1]);C[1][1]+=maths.dot(a[1],a[1]);tmp=maths.subtract(points[i],bezier.q([firstPoint,firstPoint,lastPoint,lastPoint],u));X[0]+=maths.dot(a[0],tmp);X[1]+=maths.dot(a[1],tmp)}det_C0_C1=C[0][0]*C[1][1]-C[1][0]*C[0][1];det_C0_X=C[0][0]*X[1]-C[1][0]*X[0];det_X_C1=X[0]*C[1][1]-X[1]*C[0][1];alpha_l=det_C0_C1===0?0:det_X_C1/det_C0_C1;alpha_r=det_C0_C1===0?0:det_C0_X/det_C0_C1;segLength=maths.vectorLen(maths.subtract(firstPoint,lastPoint));epsilon=1e-6*segLength;if(alpha_l<epsilon||alpha_r<epsilon){bezCurve[1]=maths.addArrays(firstPoint,maths.mulItems(leftTangent,segLength/3));bezCurve[2]=maths.addArrays(lastPoint,maths.mulItems(rightTangent,segLength/3))}else{bezCurve[1]=maths.addArrays(firstPoint,maths.mulItems(leftTangent,alpha_l));bezCurve[2]=maths.addArrays(lastPoint,maths.mulItems(rightTangent,alpha_r))}return bezCurve}function reparameterize(bezier,points,parameters){return parameters.map(function(p,i){return newtonRaphsonRootFind(bezier,points[i],p)})}function newtonRaphsonRootFind(bez,point,u){var d=maths.subtract(bezier.q(bez,u),point),qprime=bezier.qprime(bez,u),numerator=maths.mulMatrix(d,qprime),denominator=maths.sum(maths.addItems(maths.squareItems(qprime),maths.mulMatrix(d,bezier.qprimeprime(bez,u))));if(denominator===0){return u}else{return u-numerator/denominator}}function chordLengthParameterize(points){var u=[],currU,prevU,prevP;points.forEach(function(p,i){currU=i?prevU+maths.vectorLen(maths.subtract(p,prevP)):0;u.push(currU);prevU=currU;prevP=p});u=u.map(function(x){return x/prevU});return u}function computeMaxError(points,bez,parameters){var dist,maxDist,splitPoint,v,i,count,point,t;maxDist=0;splitPoint=points.length/2;var t_distMap=mapTtoRelativeDistances(bez,10);for(i=0,count=points.length;i<count;i++){point=points[i];t=find_t(bez,parameters[i],t_distMap,10);v=maths.subtract(bezier.q(bez,t),point);dist=v[0]*v[0]+v[1]*v[1];if(dist>maxDist){maxDist=dist;splitPoint=i}}return[maxDist,splitPoint]}var mapTtoRelativeDistances=function mapTtoRelativeDistances(bez,B_parts){var B_t_curr;var B_t_dist=[0];var B_t_prev=bez[0];var sumLen=0;for(var i=1;i<=B_parts;i++){B_t_curr=bezier.q(bez,i/B_parts);sumLen+=maths.vectorLen(maths.subtract(B_t_curr,B_t_prev));B_t_dist.push(sumLen);B_t_prev=B_t_curr}B_t_dist=B_t_dist.map(function(x){return x/sumLen});return B_t_dist};function find_t(bez,param,t_distMap,B_parts){if(param<0){return 0}if(param>1){return 1}var lenMax,lenMin,tMax,tMin,t;for(var i=1;i<=B_parts;i++){if(param<=t_distMap[i]){tMin=(i-1)/B_parts;tMax=i/B_parts;lenMin=t_distMap[i-1];lenMax=t_distMap[i];t=(param-lenMin)/(lenMax-lenMin)*(tMax-tMin)+tMin;break}}return t}function createTangent(pointA,pointB){return maths.normalize(maths.subtract(pointA,pointB))}var maths=function(){function maths(){_classCallCheck(this,maths)}maths.zeros_Xx2x2=function zeros_Xx2x2(x){var zs=[];while(x--){zs.push([0,0])}return zs};maths.mulItems=function mulItems(items,multiplier){return[items[0]*multiplier,items[1]*multiplier]};maths.mulMatrix=function mulMatrix(m1,m2){return m1[0]*m2[0]+m1[1]*m2[1]};maths.subtract=function subtract(arr1,arr2){return[arr1[0]-arr2[0],arr1[1]-arr2[1]]};maths.addArrays=function addArrays(arr1,arr2){return[arr1[0]+arr2[0],arr1[1]+arr2[1]]};maths.addItems=function addItems(items,addition){return[items[0]+addition,items[1]+addition]};maths.sum=function sum(items){return items.reduce(function(sum,x){return sum+x})};maths.dot=function dot(m1,m2){return maths.mulMatrix(m1,m2)};maths.vectorLen=function vectorLen(v){var a=v[0],b=v[1];return Math.sqrt(a*a+b*b)};maths.divItems=function divItems(items,divisor){return[items[0]/divisor,items[1]/divisor]};maths.squareItems=function squareItems(items){var a=items[0],b=items[1];return[a*a,b*b]};maths.normalize=function normalize(v){return this.divItems(v,this.vectorLen(v))};return maths}();var bezier=function(){function bezier(){_classCallCheck(this,bezier)}bezier.q=function q(ctrlPoly,t){var tx=1-t;var pA=maths.mulItems(ctrlPoly[0],tx*tx*tx),pB=maths.mulItems(ctrlPoly[1],3*tx*tx*t),pC=maths.mulItems(ctrlPoly[2],3*tx*t*t),pD=maths.mulItems(ctrlPoly[3],t*t*t);return maths.addArrays(maths.addArrays(pA,pB),maths.addArrays(pC,pD))};bezier.qprime=function qprime(ctrlPoly,t){var tx=1-t;var pA=maths.mulItems(maths.subtract(ctrlPoly[1],ctrlPoly[0]),3*tx*tx),pB=maths.mulItems(maths.subtract(ctrlPoly[2],ctrlPoly[1]),6*tx*t),pC=maths.mulItems(maths.subtract(ctrlPoly[3],ctrlPoly[2]),3*t*t);return maths.addArrays(maths.addArrays(pA,pB),pC)};bezier.qprimeprime=function qprimeprime(ctrlPoly,t){return maths.addArrays(maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[2],maths.mulItems(ctrlPoly[1],2)),ctrlPoly[0]),6*(1-t)),maths.mulItems(maths.addArrays(maths.subtract(ctrlPoly[3],maths.mulItems(ctrlPoly[2],2)),ctrlPoly[1]),6*t))};return bezier}();module.exports=fitCurve})},{}],7:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.spp={})})(this,function(exports){"use strict";var length={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0};var segment=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function parse(path){var data=[];path.replace(segment,function(_,command,args){var type=command.toLowerCase();args=parseValues(args);if(type==="m"&&args.length>2){data.push([command].concat(args.splice(0,2)));type="l";command=command==="m"?"l":"L"}while(args.length>=0){if(args.length===length[type]){args.unshift(command);return data.push(args)}if(args.length<length[type]){throw new Error("malformed path data")}data.push([command].concat(args.splice(0,length[type])))}});return data}var number=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function parseValues(args){var numbers=args.match(number);return numbers?numbers.map(Number):[]}function Bezier(ax,ay,bx,by,cx,cy,dx,dy){return new Bezier$1(ax,ay,bx,by,cx,cy,dx,dy)}function Bezier$1(ax,ay,bx,by,cx,cy,dx,dy){this.a={x:ax,y:ay};this.b={x:bx,y:by};this.c={x:cx,y:cy};this.d={x:dx,y:dy};if(dx!==null&&dx!==undefined&&dy!==null&&dy!==undefined){this.getArcLength=getCubicArcLength;this.getPoint=cubicPoint;this.getDerivative=cubicDerivative}else{this.getArcLength=getQuadraticArcLength;this.getPoint=quadraticPoint;this.getDerivative=quadraticDerivative}this.init()}Bezier$1.prototype={constructor:Bezier$1,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(length){var t=t2length(length,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(length){var t=t2length(length,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);var derivative=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);var mdl=Math.sqrt(derivative.x*derivative.x+derivative.y*derivative.y);var tangent;if(mdl>0){tangent={x:derivative.x/mdl,y:derivative.y/mdl}}else{tangent={x:0,y:0}}return tangent},getPropertiesAtLength:function(length){var t=t2length(length,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);var derivative=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);var mdl=Math.sqrt(derivative.x*derivative.x+derivative.y*derivative.y);var tangent;if(mdl>0){tangent={x:derivative.x/mdl,y:derivative.y/mdl}}else{tangent={x:0,y:0}}var point=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t);return{x:point.x,y:point.y,tangentX:tangent.x,tangentY:tangent.y}}};function quadraticDerivative(xs,ys,t){return{x:(1-t)*2*(xs[1]-xs[0])+t*2*(xs[2]-xs[1]),y:(1-t)*2*(ys[1]-ys[0])+t*2*(ys[2]-ys[1])}}function cubicDerivative(xs,ys,t){var derivative=quadraticPoint([3*(xs[1]-xs[0]),3*(xs[2]-xs[1]),3*(xs[3]-xs[2])],[3*(ys[1]-ys[0]),3*(ys[2]-ys[1]),3*(ys[3]-ys[2])],t);return derivative}function t2length(length,total_length,func,xs,ys){var error=1;var t=length/total_length;var step=(length-func(xs,ys,t))/total_length;while(error>.001){var increasedTLength=func(xs,ys,t+step);var decreasedTLength=func(xs,ys,t-step);var increasedTError=Math.abs(length-increasedTLength)/total_length;var decreasedTError=Math.abs(length-decreasedTLength)/total_length;if(increasedTError<error){error=increasedTError;t+=step}else if(decreasedTError<error){error=decreasedTError;t-=step}else{step/=2}}return t}function quadraticPoint(xs,ys,t){var x=(1-t)*(1-t)*xs[0]+2*(1-t)*t*xs[1]+t*t*xs[2];var y=(1-t)*(1-t)*ys[0]+2*(1-t)*t*ys[1]+t*t*ys[2];return{x:x,y:y}}function cubicPoint(xs,ys,t){var x=(1-t)*(1-t)*(1-t)*xs[0]+3*(1-t)*(1-t)*t*xs[1]+3*(1-t)*t*t*xs[2]+t*t*t*xs[3];var y=(1-t)*(1-t)*(1-t)*ys[0]+3*(1-t)*(1-t)*t*ys[1]+3*(1-t)*t*t*ys[2]+t*t*t*ys[3];return{x:x,y:y}}function getQuadraticArcLength(xs,ys,t){if(t===undefined){t=1}var ax=xs[0]-2*xs[1]+xs[2];var ay=ys[0]-2*ys[1]+ys[2];var bx=2*xs[1]-2*xs[0];var by=2*ys[1]-2*ys[0];var A=4*(ax*ax+ay*ay);var B=4*(ax*bx+ay*by);var C=bx*bx+by*by;if(A===0){return t*Math.sqrt(Math.pow(xs[2]-xs[0],2)+Math.pow(ys[2]-ys[0],2))}var b=B/(2*A);var c=C/A;var u=t+b;var k=c-b*b;var uuk=u*u+k>0?Math.sqrt(u*u+k):0;var bbk=b*b+k>0?Math.sqrt(b*b+k):0;var term=b+Math.sqrt(b*b+k)!==0?k*Math.log(Math.abs((u+uuk)/(b+bbk))):0;return Math.sqrt(A)/2*(u*uuk-b*bbk+term)}var tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]];var cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]];var binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];function binomials(n,k){return binomialCoefficients[n][k]}function getDerivative(derivative,t,vs){var n=vs.length-1,_vs,value,k;if(n===0){return 0}if(derivative===0){value=0;for(k=0;k<=n;k++){value+=binomials(n,k)*Math.pow(1-t,n-k)*Math.pow(t,k)*vs[k]}return value}else{_vs=new Array(n);for(k=0;k<n;k++){_vs[k]=n*(vs[k+1]-vs[k])}return getDerivative(derivative-1,t,_vs)}}function B(xs,ys,t){var xbase=getDerivative(1,t,xs);var ybase=getDerivative(1,t,ys);var combined=xbase*xbase+ybase*ybase;return Math.sqrt(combined)}function getCubicArcLength(xs,ys,t){var z,sum,i,correctedT;if(t===undefined){t=1}var n=20;z=t/2;sum=0;for(i=0;i<n;i++){correctedT=z*tValues[n][i]+z;sum+=cValues[n][i]*B(xs,ys,correctedT)}return z*sum}function Arc(x0,y0,rx,ry,xAxisRotate,LargeArcFlag,SweepFlag,x,y){return new Arc$1(x0,y0,rx,ry,xAxisRotate,LargeArcFlag,SweepFlag,x,y)}function Arc$1(x0,y0,rx,ry,xAxisRotate,LargeArcFlag,SweepFlag,x1,y1){this.x0=x0;this.y0=y0;this.rx=rx;this.ry=ry;this.xAxisRotate=xAxisRotate;this.LargeArcFlag=LargeArcFlag;this.SweepFlag=SweepFlag;this.x1=x1;this.y1=y1;var lengthProperties=approximateArcLengthOfCurve(300,function(t){return pointOnEllipticalArc({x:x0,y:y0},rx,ry,xAxisRotate,LargeArcFlag,SweepFlag,{x:x1,y:y1},t)});this.length=lengthProperties.arcLength}Arc$1.prototype={constructor:Arc$1,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(fractionLength){if(fractionLength<0){fractionLength=0}else if(fractionLength>this.length){fractionLength=this.length}var position=pointOnEllipticalArc({x:this.x0,y:this.y0},this.rx,this.ry,this.xAxisRotate,this.LargeArcFlag,this.SweepFlag,{x:this.x1,y:this.y1},fractionLength/this.length);return{x:position.x,y:position.y}},getTangentAtLength:function(fractionLength){if(fractionLength<0){fractionLength=0}else if(fractionLength>this.length){fractionLength=this.length}var position=pointOnEllipticalArc({x:this.x0,y:this.y0},this.rx,this.ry,this.xAxisRotate,this.LargeArcFlag,this.SweepFlag,{x:this.x1,y:this.y1},fractionLength/this.length);return{x:position.x,y:position.y}},getPropertiesAtLength:function(fractionLength){var tangent=this.getTangentAtLength(fractionLength);var point=this.getPointAtLength(fractionLength);return{x:point.x,y:point.y,tangentX:tangent.x,tangentY:tangent.y}}};function pointOnEllipticalArc(p0,rx,ry,xAxisRotation,largeArcFlag,sweepFlag,p1,t){rx=Math.abs(rx);ry=Math.abs(ry);xAxisRotation=mod(xAxisRotation,360);var xAxisRotationRadians=toRadians(xAxisRotation);if(p0.x===p1.x&&p0.y===p1.y){return p0}if(rx===0||ry===0){return this.pointOnLine(p0,p1,t)}var dx=(p0.x-p1.x)/2;var dy=(p0.y-p1.y)/2;var transformedPoint={x:Math.cos(xAxisRotationRadians)*dx+Math.sin(xAxisRotationRadians)*dy,y:-Math.sin(xAxisRotationRadians)*dx+Math.cos(xAxisRotationRadians)*dy};var radiiCheck=Math.pow(transformedPoint.x,2)/Math.pow(rx,2)+Math.pow(transformedPoint.y,2)/Math.pow(ry,2);if(radiiCheck>1){rx=Math.sqrt(radiiCheck)*rx;ry=Math.sqrt(radiiCheck)*ry}var cSquareNumerator=Math.pow(rx,2)*Math.pow(ry,2)-Math.pow(rx,2)*Math.pow(transformedPoint.y,2)-Math.pow(ry,2)*Math.pow(transformedPoint.x,2);var cSquareRootDenom=Math.pow(rx,2)*Math.pow(transformedPoint.y,2)+Math.pow(ry,2)*Math.pow(transformedPoint.x,2);var cRadicand=cSquareNumerator/cSquareRootDenom;cRadicand=cRadicand<0?0:cRadicand;var cCoef=(largeArcFlag!==sweepFlag?1:-1)*Math.sqrt(cRadicand);var transformedCenter={x:cCoef*(rx*transformedPoint.y/ry),y:cCoef*(-(ry*transformedPoint.x)/rx)};var center={x:Math.cos(xAxisRotationRadians)*transformedCenter.x-Math.sin(xAxisRotationRadians)*transformedCenter.y+(p0.x+p1.x)/2,y:Math.sin(xAxisRotationRadians)*transformedCenter.x+Math.cos(xAxisRotationRadians)*transformedCenter.y+(p0.y+p1.y)/2};var startVector={x:(transformedPoint.x-transformedCenter.x)/rx,y:(transformedPoint.y-transformedCenter.y)/ry};var startAngle=angleBetween({x:1,y:0},startVector);var endVector={x:(-transformedPoint.x-transformedCenter.x)/rx,y:(-transformedPoint.y-transformedCenter.y)/ry};var sweepAngle=angleBetween(startVector,endVector);if(!sweepFlag&&sweepAngle>0){sweepAngle-=2*Math.PI}else if(sweepFlag&&sweepAngle<0){sweepAngle+=2*Math.PI}sweepAngle%=2*Math.PI;var angle=startAngle+sweepAngle*t;var ellipseComponentX=rx*Math.cos(angle);var ellipseComponentY=ry*Math.sin(angle);var point={x:Math.cos(xAxisRotationRadians)*ellipseComponentX-Math.sin(xAxisRotationRadians)*ellipseComponentY+center.x,y:Math.sin(xAxisRotationRadians)*ellipseComponentX+Math.cos(xAxisRotationRadians)*ellipseComponentY+center.y};point.ellipticalArcStartAngle=startAngle;point.ellipticalArcEndAngle=startAngle+sweepAngle;point.ellipticalArcAngle=angle;point.ellipticalArcCenter=center;point.resultantRx=rx;point.resultantRy=ry;return point}function approximateArcLengthOfCurve(resolution,pointOnCurveFunc){resolution=resolution?resolution:500;var resultantArcLength=0;var arcLengthMap=[];var approximationLines=[];var prevPoint=pointOnCurveFunc(0);var nextPoint;for(var i=0;i<resolution;i++){var t=clamp(i*(1/resolution),0,1);nextPoint=pointOnCurveFunc(t);resultantArcLength+=distance(prevPoint,nextPoint);approximationLines.push([prevPoint,nextPoint]);arcLengthMap.push({t:t,arcLength:resultantArcLength});prevPoint=nextPoint}nextPoint=pointOnCurveFunc(1);approximationLines.push([prevPoint,nextPoint]);resultantArcLength+=distance(prevPoint,nextPoint);arcLengthMap.push({t:1,arcLength:resultantArcLength});return{arcLength:resultantArcLength,arcLengthMap:arcLengthMap,approximationLines:approximationLines}}function mod(x,m){return(x%m+m)%m}function toRadians(angle){return angle*(Math.PI/180)}function distance(p0,p1){return Math.sqrt(Math.pow(p1.x-p0.x,2)+Math.pow(p1.y-p0.y,2))}function clamp(val,min,max){return Math.min(Math.max(val,min),max)}function angleBetween(v0,v1){var p=v0.x*v1.x+v0.y*v1.y;var n=Math.sqrt((Math.pow(v0.x,2)+Math.pow(v0.y,2))*(Math.pow(v1.x,2)+Math.pow(v1.y,2)));var sign=v0.x*v1.y-v0.y*v1.x<0?-1:1;var angle=sign*Math.acos(p/n);return angle}function LinearPosition(x0,x1,y0,y1){return new LinearPosition$1(x0,x1,y0,y1)}function LinearPosition$1(x0,x1,y0,y1){this.x0=x0;this.x1=x1;this.y0=y0;this.y1=y1}LinearPosition$1.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))};LinearPosition$1.prototype.getPointAtLength=function(pos){var fraction=pos/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2));var newDeltaX=(this.x1-this.x0)*fraction;var newDeltaY=(this.y1-this.y0)*fraction;return{x:this.x0+newDeltaX,y:this.y0+newDeltaY}};LinearPosition$1.prototype.getTangentAtLength=function(){var module=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/module,y:(this.y1-this.y0)/module}};LinearPosition$1.prototype.getPropertiesAtLength=function(pos){var point=this.getPointAtLength(pos);var tangent=this.getTangentAtLength();return{x:point.x,y:point.y,tangentX:tangent.x,tangentY:tangent.y}};function pathProperties(svgString){var length=0;var partial_lengths=[];var functions=[];function svgProperties(string){if(!string){return null}var parsed=parse(string);var cur=[0,0];var prev_point=[0,0];var curve;var ringStart;for(var i=0;i<parsed.length;i++){if(parsed[i][0]==="M"){cur=[parsed[i][1],parsed[i][2]];ringStart=[cur[0],cur[1]];functions.push(null)}else if(parsed[i][0]==="m"){cur=[parsed[i][1]+cur[0],parsed[i][2]+cur[1]];ringStart=[cur[0],cur[1]];functions.push(null)}else if(parsed[i][0]==="L"){length=length+Math.sqrt(Math.pow(cur[0]-parsed[i][1],2)+Math.pow(cur[1]-parsed[i][2],2));functions.push(new LinearPosition(cur[0],parsed[i][1],cur[1],parsed[i][2]));cur=[parsed[i][1],parsed[i][2]]}else if(parsed[i][0]==="l"){length=length+Math.sqrt(Math.pow(parsed[i][1],2)+Math.pow(parsed[i][2],2));functions.push(new LinearPosition(cur[0],parsed[i][1]+cur[0],cur[1],parsed[i][2]+cur[1]));cur=[parsed[i][1]+cur[0],parsed[i][2]+cur[1]]}else if(parsed[i][0]==="H"){length=length+Math.abs(cur[0]-parsed[i][1]);functions.push(new LinearPosition(cur[0],parsed[i][1],cur[1],cur[1]));cur[0]=parsed[i][1]}else if(parsed[i][0]==="h"){length=length+Math.abs(parsed[i][1]);functions.push(new LinearPosition(cur[0],cur[0]+parsed[i][1],cur[1],cur[1]));cur[0]=parsed[i][1]+cur[0]}else if(parsed[i][0]==="V"){length=length+Math.abs(cur[1]-parsed[i][1]);functions.push(new LinearPosition(cur[0],cur[0],cur[1],parsed[i][1]));cur[1]=parsed[i][1]}else if(parsed[i][0]==="v"){length=length+Math.abs(parsed[i][1]);functions.push(new LinearPosition(cur[0],cur[0],cur[1],cur[1]+parsed[i][1]));cur[1]=parsed[i][1]+cur[1]}else if(parsed[i][0]==="z"||parsed[i][0]==="Z"){length=length+Math.sqrt(Math.pow(ringStart[0]-cur[0],2)+Math.pow(ringStart[1]-cur[1],2));functions.push(new LinearPosition(cur[0],ringStart[0],cur[1],ringStart[1]));cur=[ringStart[0],ringStart[1]]}else if(parsed[i][0]==="C"){curve=new Bezier(cur[0],cur[1],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4],parsed[i][5],parsed[i][6]);length=length+curve.getTotalLength();cur=[parsed[i][5],parsed[i][6]];functions.push(curve)}else if(parsed[i][0]==="c"){curve=new Bezier(cur[0],cur[1],cur[0]+parsed[i][1],cur[1]+parsed[i][2],cur[0]+parsed[i][3],cur[1]+parsed[i][4],cur[0]+parsed[i][5],cur[1]+parsed[i][6]);if(curve.getTotalLength()>0){length=length+curve.getTotalLength();functions.push(curve);cur=[parsed[i][5]+cur[0],parsed[i][6]+cur[1]]}else{functions.push(new LinearPosition(cur[0],cur[0],cur[1],cur[1]))}}else if(parsed[i][0]==="S"){if(i>0&&["C","c","S","s"].indexOf(parsed[i-1][0])>-1){curve=new Bezier(cur[0],cur[1],2*cur[0]-parsed[i-1][parsed[i-1].length-4],2*cur[1]-parsed[i-1][parsed[i-1].length-3],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4])}else{curve=new Bezier(cur[0],cur[1],cur[0],cur[1],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4])}length=length+curve.getTotalLength();cur=[parsed[i][3],parsed[i][4]];functions.push(curve)}else if(parsed[i][0]==="s"){if(i>0&&["C","c","S","s"].indexOf(parsed[i-1][0])>-1){curve=new Bezier(cur[0],cur[1],cur[0]+curve.d.x-curve.c.x,cur[1]+curve.d.y-curve.c.y,cur[0]+parsed[i][1],cur[1]+parsed[i][2],cur[0]+parsed[i][3],cur[1]+parsed[i][4])}else{curve=new Bezier(cur[0],cur[1],cur[0],cur[1],cur[0]+parsed[i][1],cur[1]+parsed[i][2],cur[0]+parsed[i][3],cur[1]+parsed[i][4])}length=length+curve.getTotalLength();cur=[parsed[i][3]+cur[0],parsed[i][4]+cur[1]];functions.push(curve)}else if(parsed[i][0]==="Q"){if(cur[0]==parsed[i][1]&&cur[1]==parsed[i][2]){curve=new LinearPosition(parsed[i][1],parsed[i][3],parsed[i][2],parsed[i][4])}else{curve=new Bezier(cur[0],cur[1],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4])}length=length+curve.getTotalLength();functions.push(curve);cur=[parsed[i][3],parsed[i][4]];prev_point=[parsed[i][1],parsed[i][2]]}else if(parsed[i][0]==="q"){if(!(parsed[i][1]==0&&parsed[i][2]==0)){curve=new Bezier(cur[0],cur[1],cur[0]+parsed[i][1],cur[1]+parsed[i][2],cur[0]+parsed[i][3],cur[1]+parsed[i][4])}else{curve=new LinearPosition(cur[0]+parsed[i][1],cur[0]+parsed[i][3],cur[1]+parsed[i][2],cur[1]+parsed[i][4])}length=length+curve.getTotalLength();prev_point=[cur[0]+parsed[i][1],cur[1]+parsed[i][2]];cur=[parsed[i][3]+cur[0],parsed[i][4]+cur[1]];functions.push(curve)}else if(parsed[i][0]==="T"){if(i>0&&["Q","q","T","t"].indexOf(parsed[i-1][0])>-1){curve=new Bezier(cur[0],cur[1],2*cur[0]-prev_point[0],2*cur[1]-prev_point[1],parsed[i][1],parsed[i][2])}else{curve=new LinearPosition(cur[0],parsed[i][1],cur[1],parsed[i][2])}functions.push(curve);length=length+curve.getTotalLength();prev_point=[2*cur[0]-prev_point[0],2*cur[1]-prev_point[1]];cur=[parsed[i][1],parsed[i][2]]}else if(parsed[i][0]==="t"){if(i>0&&["Q","q","T","t"].indexOf(parsed[i-1][0])>-1){curve=new Bezier(cur[0],cur[1],2*cur[0]-prev_point[0],2*cur[1]-prev_point[1],cur[0]+parsed[i][1],cur[1]+parsed[i][2])}else{curve=new LinearPosition(cur[0],cur[0]+parsed[i][1],cur[1],cur[1]+parsed[i][2])}length=length+curve.getTotalLength();prev_point=[2*cur[0]-prev_point[0],2*cur[1]-prev_point[1]];cur=[parsed[i][1]+cur[0],parsed[i][2]+cur[0]];functions.push(curve)}else if(parsed[i][0]==="A"){curve=new Arc(cur[0],cur[1],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4],parsed[i][5],parsed[i][6],parsed[i][7]);length=length+curve.getTotalLength();cur=[parsed[i][6],parsed[i][7]];functions.push(curve)}else if(parsed[i][0]==="a"){curve=new Arc(cur[0],cur[1],parsed[i][1],parsed[i][2],parsed[i][3],parsed[i][4],parsed[i][5],cur[0]+parsed[i][6],cur[1]+parsed[i][7]);length=length+curve.getTotalLength();cur=[cur[0]+parsed[i][6],cur[1]+parsed[i][7]];functions.push(curve)}partial_lengths.push(length)}return svgProperties}svgProperties.getTotalLength=function(){return length};svgProperties.getPointAtLength=function(fractionLength){var fractionPart=getPartAtLength(fractionLength);return functions[fractionPart.i].getPointAtLength(fractionPart.fraction)};svgProperties.getTangentAtLength=function(fractionLength){var fractionPart=getPartAtLength(fractionLength);return functions[fractionPart.i].getTangentAtLength(fractionPart.fraction)};svgProperties.getPropertiesAtLength=function(fractionLength){var fractionPart=getPartAtLength(fractionLength);return functions[fractionPart.i].getPropertiesAtLength(fractionPart.fraction)};svgProperties.getParts=function(){var parts=[];for(var i=0;i<functions.length;i++){if(functions[i]!=null){var properties={};properties["start"]=functions[i].getPointAtLength(0);properties["end"]=functions[i].getPointAtLength(partial_lengths[i]-partial_lengths[i-1]);properties["length"]=partial_lengths[i]-partial_lengths[i-1];(function(func){properties["getPointAtLength"]=function(d){return func.getPointAtLength(d)};properties["getTangentAtLength"]=function(d){return func.getTangentAtLength(d)};properties["getPropertiesAtLength"]=function(d){return func.getPropertiesAtLength(d)}})(functions[i]);parts.push(properties)}}return parts};var getPartAtLength=function(fractionLength){if(fractionLength<0){fractionLength=0}else if(fractionLength>length){fractionLength=length}var i=partial_lengths.length-1;while(partial_lengths[i]>=fractionLength&&partial_lengths[i]>0){i--}i++;return{fraction:fractionLength-partial_lengths[i-1],i:i}};return svgProperties(svgString)}exports.svgPathProperties=pathProperties;exports.parse=parse;exports.Bezier=Bezier;Object.defineProperty(exports,"__esModule",{value:true})})},{}],8:[function(require,module,exports){var easingFit,cubic,kitsList,easing,uuid,ref$,cos,sin,tan,anikit;easingFit=require("easing-fit");cubic=require("cubic");kitsList=require("./kits-list");easing=require("./easing");uuid=require("uuid/v4");ref$={cos:Math.cos,sin:Math.sin,tan:Math.tan},cos=ref$.cos,sin=ref$.sin,tan=ref$.tan;anikit=function(name,opt){var ref$;opt==null&&(opt={});ref$=anikit.get(name,opt),this.mod=ref$.mod,this.config=ref$.config;ref$=[null,uuid()],this.dom=ref$[0],this.id=ref$[1];this.setConfig(this.config);return this};anikit.prototype=import$(Object.create(Object.prototype),{setConfig:function(c){var ref$;c==null&&(c={});import$(this.config,c);if(this.dom){this.dom.textContent=this.mod.css((ref$=import$({},this.config),ref$.name=this.config.name+"-"+this.id,ref$))}return this.mod.config=this.config},css:function(opt){opt==null&&(opt={});if(this.mod.css){return this.mod.css(import$(import$({},this.config),opt))}else{return{}}},js:function(t,opt){opt==null&&(opt=this.config);if(this.mod.js){return this.mod.js(t,opt)}else{return{}}},affine:function(t,opt){opt==null&&(opt=this.config);if(this.mod.affine){return this.mod.affine(t,opt)}else{return{}}},animateJs:function(node,t,opt){var that,k,v;if(that=node.ldStyle){for(k in that){v=that[k];node.style[k]=""}}node.ldStyle=this.js(t-Math.floor(t));return import$(node.style,this.js(t-Math.floor(t)))},animateThree:function(node,t,opt){var values,box,bbox,ref$,wx,wy,wz,nx,ny,nz,m,mat,gmat,opacity;values=this.affine(t,opt?import$(import$({},this.config),opt):this.config);box=(new THREE.Box3).setFromObject(node);node.geometry.computeBoundingBox();bbox=node.geometry.boundingBox;ref$=["x","y","z"].map(function(it){return bbox.max[it]-bbox.min[it]}).map(function(d,i){return((values.transformOrigin||[.5,.5,.5])[i]-.5)*d}),wx=ref$[0],wy=ref$[1],wz=ref$[2];ref$=["x","y","z"].map(function(it){return(bbox.max[it]+bbox.min[it])*.5}),nx=ref$[0],ny=ref$[1],nz=ref$[2];if(nx||ny||nz){m=new THREE.Matrix4;m.set(1,0,0,-nx,0,1,0,-ny,0,0,1,-nz,0,0,0,1);node.geometry.applyMatrix(m);node.repos=m.getInverse(m)}node.matrixAutoUpdate=false;mat=values.transform||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];[3,7,11].map(function(it){return mat[it]=mat[it]/40});gmat=(new THREE.Matrix4).makeTranslation(wx,wy,wz);node.matrix.set.apply(node.matrix,mat);node.matrix.multiply(gmat);node.matrix.premultiply(gmat.getInverse(gmat));if(node.repos){node.matrix.premultiply(node.repos)}opacity=values.opacity!=null?values.opacity:1;if(node.material.uniforms&&node.material.uniforms.alpha){return node.material.uniforms.alpha.value=opacity}else{node.material.transparent=true;return node.material.opacity=opacity}},animate:function(node,opt){opt==null&&(opt={});opt=import$(import$({},this.config),opt);if(!this.dom){document.body.appendChild(this.dom=document.createElement("style"));this.setConfig()}node.style.animation=this.config.name+"-"+this.id+" "+(opt.dur||1)+"s "+(opt.repeatCount||"infinite")+" linear";return node.style.animationDelay=(opt.delay||0)+"s"},statify:function(node){return node.style.animation=node.style.animationDelay=""},destroy:function(){return this.dom.parentNode.removechild(this.dom)}});import$(anikit,{util:{m4to3:function(m){return[m[0],m[1],m[4],m[5],m[3],-m[7]].map(function(it){return easingFit.round(it)})},noise:function(t){return(Math.sin(t*43758.5453)+1)*.5},rx:function(t){return[1,0,0,0,0,cos(t),-sin(t),0,0,sin(t),cos(t),0,0,0,0,1]},ry:function(t){return[cos(t),0,sin(t),0,0,1,0,0,-sin(t),0,cos(t),0,0,0,0,1]},rz:function(t){return[cos(t),sin(t),0,0,-sin(t),cos(t),0,0,0,0,1,0,0,0,0,1]},tx:function(t){return[1,0,0,t,0,1,0,0,0,0,1,0,0,0,0,1]},ty:function(t){return[1,0,0,0,0,1,0,-t,0,0,1,0,0,0,0,1]},tz:function(t){return[1,0,0,0,0,1,0,0,0,0,1,t,0,0,0,1]},sx:function(t){return[t,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},sy:function(t){return[1,0,0,0,0,t,0,0,0,0,1,0,0,0,0,1]},sz:function(t){return[1,0,0,0,0,1,0,0,0,0,t,0,0,0,0,1]},s:function(t){return[t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1]},kx:function(t){return[1,-tan(t),0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ky:function(t){return[1,0,0,0,tan(t),1,0,0,0,0,1,0,0,0,0,1]}},get:function(name,opt){var mod,config,k,ref$,v;opt==null&&(opt={});mod=this.types[name]?this.mods[this.types[name]]:this.mods[name];config={name:name,dur:1};for(k in ref$=mod.edit){v=ref$[k];config[k]=v["default"]}import$(import$(config,mod.preset[name]),opt);return{mod:mod,config:config}},mods:kitsList.mods,types:kitsList.types});if(typeof window!="undefined"&&window!==null){window.easing=easing;window.anikit=anikit;window.easingFit=easingFit;window.cubic=cubic}if(typeof module!="undefined"&&module!==null){module.exports=anikit}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)if(own.call(src,key))obj[key]=src[key];return obj}},{"./easing":9,"./kits-list":10,cubic:4,"easing-fit":5,"uuid/v4":3}],9:[function(require,module,exports){var ref$,js,gl,cb,ret;ref$=[{},{},{}],js=ref$[0],gl=ref$[1],cb=ref$[2];ret={js:js,cb:cb,glsl:gl};js.linear=function(t){return t};cb.linear=function(t){return[.5,.5,.5,.5]};gl.linear="float linear(float t) { return t; }";js.easeInOutQuad=function(t){if(t<.5){return 2*t*t}else{return 4*t-2*t*t-1}};cb.easeInOutQuad=[.455,.03,.515,.955];gl.easeInOutQuad="float easeInOutQuad(float t) { \n  return (t < 0.5 ? 2. * t * t : 4. * t - 2. * t * t - 1.); \n}";js.easeOutQuad=function(t){return t*(2-t)};module.exports=ret},{}],10:[function(require,module,exports){var mods={blink:require("./kits/blink"),blur:require("./kits/blur"),"bounce-rigid":require("./kits/bounce-rigid"),bounce:require("./kits/bounce"),clock:require("./kits/clock"),fade:require("./kits/fade"),float:require("./kits/float"),heartbeat:require("./kits/heartbeat"),hit:require("./kits/hit"),orbit:require("./kits/orbit"),patrol:require("./kits/patrol"),rubber:require("./kits/rubber"),rush:require("./kits/rush"),slide:require("./kits/slide"),spin:require("./kits/spin"),squeeze:require("./kits/squeeze"),surprise:require("./kits/surprise"),tremble:require("./kits/tremble"),vortex:require("./kits/vortex"),wrench:require("./kits/wrench")};var types={blink:"blink",blur:"blur",beat:"bounce-rigid",bounceAlt:"bounce-rigid",pulse:"bounce-rigid","tick-alt":"bounce-rigid",jump:"bounce-rigid",bounce:"bounce",clock:"clock",fade:"fade",float:"float",heartbeat:"heartbeat",hit:"hit",orbit:"orbit",breath:"patrol",dim:"patrol",metronome:"patrol",swing:"patrol","wander-v":"patrol",wander:"patrol",jingle:"rubber","rubber-v":"rubber",rubber:"rubber","shake-v":"rubber",shake:"rubber",tick:"rubber",smash:"rubber","jelly-alt":"rubber",jelly:"rubber",damage:"rubber","rush-btt":"rush","rush-ttb":"rush","rush-rtl":"rush","rush-ltr":"rush","slide-ltr":"slide","slide-rtl":"slide","slide-btt":"slide","slide-ttb":"slide","coin-h":"spin","coin-v":"spin",cycle:"spin","flip-h":"spin","flip-v":"spin","spin-fast":"spin",spin:"spin",squeeze:"squeeze",surprise:"surprise",measure:"tremble",shiver:"tremble",swim:"tremble",tremble:"tremble","vortex-out":"vortex","vortex-in":"vortex",wrench:"wrench"};module.exports={mods:mods,types:types}},{"./kits/blink":11,"./kits/blur":12,"./kits/bounce":14,"./kits/bounce-rigid":13,"./kits/clock":15,"./kits/fade":16,"./kits/float":17,"./kits/heartbeat":18,"./kits/hit":19,"./kits/orbit":20,"./kits/patrol":21,"./kits/rubber":22,"./kits/rush":23,"./kits/slide":24,"./kits/spin":25,"./kits/squeeze":26,"./kits/surprise":27,"./kits/tremble":28,"./kits/vortex":29,"./kits/wrench":30}],11:[function(require,module,exports){var ret;ret={name:"blink",preset:{blink:{showtime:.5,transtime:.01}},edit:{dur:{default:1},steep:{default:0,type:"number",min:0,max:1,step:.01},showtime:{default:.5,type:"number",min:0,max:1,step:.01},transtime:{default:.01,type:"number",min:.01,max:1,step:.01}},css:function(opt){var delta;delta=opt.transtime*opt.showtime*.5;return"@keyframes "+opt.name+" {\n  0% { opacity: 1; }\n  "+100*(opt.showtime-delta)+"% { opacity: 1; }\n  "+100*(opt.showtime+delta)+"% { opacity: 0; }\n  "+100*(1-2*delta)+"% { opacity: 0; }\n  100% { opacity: 1; }\n}"},js:function(t,opt){var delta;delta=opt.transtime*opt.showtime*.5;if(t<opt.showtime-delta){t=1}else if(t<opt.showtime+delta){t=1-(t-(opt.showtime-delta))/(2*delta)}else if(t>1-2*delta){t=(t-(1-2*delta))/(2*delta)}else{t=0}return{opacity:t}},affine:function(t,opt){return this.js(t,opt)}};module.exports=ret},{}],12:[function(require,module,exports){var ret;ret={name:"blur",preset:{blur:{}},edit:{blur:{default:10,type:"number",unit:"px",units:["px","%"],min:0,max:100,step:1},unit:{default:"px",type:"choice",values:["px","%",""]}},css:function(opt){return"@keyframes "+opt.name+" {\n  0% { filter: blur(0) }\n  50% { filter: blur("+opt.blur+opt.unit+") }\n  100% { filter: blur(0) }\n}"},js:function(t,opt){return{filter:"blur("+opt.blur*(1-Math.abs(t-.5)*2)+opt.unit+")"}}};module.exports=ret},{}],13:[function(require,module,exports){var ret;ret={name:"bounce-rigid",preset:{beat:{steep:.4,count:1,decay:.5,power:1.1,offset:.2,unit:"",prop:function(f,c){return{transform:"scale("+(1-c.offset*f.value)+")"}},value:function(t,c){return{transform:anikit.util.s(1-t*c.offset)}}},bounceAlt:{steep:.5,count:0,decay:.5,power:0,offset:-14,unit:"px",prop:function(f,c){return{transform:"translate(0, "+c.offset*f.value+c.unit+")"}},value:function(t,c){return{transform:anikit.util.ty(c.offset*t)}}},pulse:{dur:.5,steep:.6,count:0,decay:.5,power:1.1,offset:.2,unit:"",local:{errorThreshold:.001,segSampleCount:20,sampleCount:1e3},prop:function(f,c){return{transform:"scale("+(1-c.offset*f.value)+")"}},value:function(t,c){return{transform:anikit.util.s(1-c.offset*t)}}},"tick-alt":{steep:.4,count:5,decay:.6,power:1.1,offset:-45,unit:"",prop:function(f,c){return{transform:"rotate("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.offset*Math.PI/180)}}},jump:{steep:.4,count:5,decay:.6,power:1.1,offset:-14,unit:"px",prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset+c.unit+")"}},value:function(t,c){return{transform:anikit.util.ty(t*c.offset)}}}},edit:{steep:{default:.4,type:"number",min:.3,max:1,step:.01},count:{default:5,type:"number",min:0,max:10},decay:{default:.6,type:"number",min:0,max:1,step:.1},power:{default:1.1,type:"number",min:0,max:10,step:.1},offset:{default:-14,type:"number",unit:"px",min:-300,max:300},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){var p1,p2,R,i$,to$,i,pp,pf,ph,d;p1=[opt.steep,0,1,1-opt.steep];p2=[0,opt.steep,1-opt.steep,1];R=(opt.decay-1)/(Math.pow(opt.decay,opt.count+1)-1);for(i$=0,to$=opt.count;i$<=to$;++i$){i=i$;pp=R*(Math.pow(opt.decay,i)-1)/(opt.decay-1);pf=R*(Math.pow(opt.decay,i+1)-1)/(opt.decay-1);ph=(pf+pp)*.5;d=Math.pow(Math.pow(opt.decay,opt.power),i);if(t<ph){t=(t-pp)/(ph-pp);t=cubic.Bezier.y(cubic.Bezier.t(t,p2),p2)}else if(t<pf){t=(t-ph)/(pf-ph);t=cubic.Bezier.y(cubic.Bezier.t(t,p1),p1);t=1-t}else{continue}return t*d}return 0},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],14:[function(require,module,exports){var ret;ret={name:"bounce",preset:{bounce:{}},edit:{unit:{default:"px",type:"choice",values:["px","%",""]},height:{default:-40,type:"number",min:-500,max:500},offset:{default:50,type:"number",min:-500,max:500},rate:{default:13/18,type:"number",min:0,max:1,step:.01},deflate:{default:.6,type:"number",min:0,max:1,step:.01}},step:function(t,opt){var args,y,s;opt==null&&(opt={});args=[opt.height,opt.offset,opt.rate,opt.deflate];if(t<args[2]){t=t/args[2];y=args[0]*(.25-Math.pow(t-.5,2))*4;s=1}else{t=(t-args[2])/(1-args[2]);s=args[3]+(1-args[3])*Math.pow(t-.5,2)/.25;y=args[1]*(1-s)}return[1,0,0,s,0,y]},css:function(opt){var optAlt,ret1,ret2,ret,this$=this;optAlt=JSON.parse(JSON.stringify(opt));optAlt.height=1;ret1=easingFit.fit(function(it){return this$.step(it,optAlt)[5]},{end:opt.rate});ret2=easingFit.fit(function(it){return this$.step(it,optAlt)[3]},{start:opt.rate});ret1.pop();ret=ret1.concat(ret2);ret=easingFit.toKeyframes(ret,{format:"css",prop:function(f,c,idx){var s,y;if(idx<ret1.length){return{transform:"translate(0,"+f.value*c.height+"px) scaleY(1)"}}else{s=f.value;y=(c.offset||50)*(1-s);return{transform:"translate(0,"+y+"px) scaleY("+f.value+")"}}},name:opt.name,config:opt});return ret},js:function(t,opt){var mat;mat=this.step(t,opt);return{transform:"matrix("+mat.join(",")+")"}},affine:function(t,opt){var mat;mat=this.step(t,opt);return{transform:[mat[0],mat[1],0,mat[4],mat[2],mat[3],0,-mat[5],0,0,1,0,0,0,0,1]}}};module.exports=ret},{}],15:[function(require,module,exports){var ret;ret={name:"clock",preset:{clock:{}},edit:{dur:{default:12},steep:{default:.7,type:"number",min:0,max:1,step:.01},count:{default:12,type:"number",min:1,max:60,step:1}},timing:function(t,opt){var p1,base,next,offset;p1=[0,opt.steep,1-opt.steep,1];base=Math.floor(t*opt.count)/opt.count;next=Math.ceil(t*opt.count)/opt.count;offset=t-base;t=cubic.Bezier.y(cubic.Bezier.t(offset*opt.count,p1),p1);return(next-base)*t+base},css:function(opt){var list,i$,to$,i,p,d;list=[];for(i$=0,to$=opt.count;i$<=to$;++i$){i=i$;p=easingFit.round(i*100/opt.count);d=360*i/opt.count;list.push(""+p+"% {\n  animation-timing-function: cubic-bezier(0,"+opt.steep+","+(1-opt.steep)+",1);\n  transform: rotate("+d+"deg);\n}")}return"@keyframes "+opt.name+" {\n"+list.join("\n")+"\n}"},js:function(t,opt){return{transform:"rotate("+this.timing(t,opt)*360+"deg)"}},affine:function(t,opt){return{transform:anikit.util.rz(this.timing(t,opt)*Math.PI*2)}}};module.exports=ret},{}],16:[function(require,module,exports){var ret;ret={name:"fade",preset:{fade:{prop:function(f,c){return{opacity:1-f.value}},value:function(t,c){return{opacity:1-t}}}},edit:{dur:{default:1},steep:{default:0,type:"number",min:0,max:.5,step:.01}},timing:function(t,opt){var p1;p1=[opt.steep,.5-opt.steep,.5+opt.steep,1-opt.steep];return t=cubic.Bezier.y(cubic.Bezier.t(t,p1),p1)},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],17:[function(require,module,exports){var ret;ret={name:"float",preset:{float:{}},edit:{steep:{default:.4,type:"number",min:0,max:1,step:.01},offset:{default:15,type:"number",unit:"px",min:0,max:1e3},zoom:{default:.7,type:"number",min:0,max:1,step:.01},shadow_offset:{default:23,type:"number",unit:"px",min:0,max:1e3},shadow_blur:{default:5,type:"number",unit:"px",min:0,max:100},shadow_expand:{default:-15,type:"number",unit:"px",min:-1e3,max:1e3},unit:{default:"px",type:"choice",values:["px","%",""]}},css:function(c){return"@keyframes "+c.name+" {\n  0% {\n    animation-timing-function: cubic-bezier(0,"+c.steep+","+(1-c.steep)+",1);\n    transform: translate(0,0) scale("+c.zoom+");\n    box-shadow: 0 0 0 rgba(0,0,0,.3);\n  }\n  50% {\n    animation-timing-function: cubic-bezier("+c.steep+",0,1,"+(1-c.steep)+");\n    transform: translate(0,"+-c.offset+c.unit+") scale(1);\n    box-shadow: 0 "+c.shadow_offset+c.unit+" "+c.shadow_blur+c.unit+" "+c.shadow_expand+c.unit+" rgba(0,0,0,.2)\n  }\n  100% {\n    transform: translate(0,0) scale("+c.zoom+");\n    box-shadow: 0 0 0 rgba(0,0,0,.3)\n  }\n} "}};module.exports=ret},{}],18:[function(require,module,exports){var ret;ret={name:"heartbeat",preset:{heartbeat:{prop:function(f,c){return{transform:"scale("+(1+f.value*c.scale)+")"}},value:function(t,c){return{transform:anikit.util.s(1+t*c.scale)}}}},edit:{dur:{default:1},scale:{default:.3,type:"number",min:0,max:100,step:.01},peak2:{default:.5,type:"number",min:0,max:1,step:.01},decay:{default:2,type:"number",min:.1,max:10,step:.01},span:{default:.3,type:"number",min:.1,max:1,step:.01},len:{default:.5,type:"number",min:.1,max:1,step:.01}},timing:function(t,opt){if(t<opt.span){t=(opt.span-t)/opt.span;t=Math.pow(t,opt.decay)}else{t=(1-t)/(1-opt.span);t=Math.pow(t,opt.decay)*opt.peak2}return t},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],19:[function(require,module,exports){var ret;ret={name:"hit",preset:{hit:{}},edit:{dur:{default:2},steep:{default:.5,type:"number",min:0,max:1,step:.01},zoom:{default:1,type:"number",min:0,max:10,step:.1},skew:{default:20,type:"number",unit:"deg",min:-90,max:90,step:.1},offset:{default:200,type:"number",unit:"px",min:0,max:1e4},fade:{default:1,type:"number",min:0,max:1,step:.01},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){},css:function(opt){return"@keyframes "+opt.name+" {\n  0% {\n    animation-timing-function: cubic-bezier("+opt.steep+",0,1,"+(1-opt.steep)+");\n    transform: scale(0) translate(0,0) skewX(0);\n    opacity: 1;\n  }\n  20% {\n    transform: scale("+opt.zoom+") translate(0,0) skewX("+opt.skew+"deg);\n  }\n  50% {\n    animation-timing-function: cubic-bezier("+opt.steep*1.2+",0,1,"+(1-opt.steep*1.2)+");\n    transform: scale("+opt.zoom+") translate(0,0) skewX("+opt.skew+"deg);\n  }\n  "+(100-opt.fade*50)+"% {\n    opacity: 1;\n  }\n  100% {\n    transform: scale("+opt.zoom+")  translate(0,"+opt.offset+opt.unit+") skewX("+opt.skew+"deg);\n    opacity: 0;\n  }\n} "},js:function(t,opt){var values,m;values=this.affine(t,opt);m=values.transform;m=[m[0],-m[1],m[4],m[5],m[3],-m[7]];return{transform:"matrix("+m.join(void 8)+")",opacity:values.o}},affine:function(t,opt){var p1,ref$,s,p,k,o;p1=[opt.steep,0,1,1-opt.steep];ref$=[opt.zoom,0,opt.skew,1],s=ref$[0],p=ref$[1],k=ref$[2],o=ref$[3];if(t<.2){t=cubic.Bezier.y(cubic.Bezier.t(t/.2,p1),p1);s=t*opt.zoom;k=t*opt.skew}else if(t>=.5){t=cubic.Bezier.y(cubic.Bezier.t((t-.5)*2,p1),p1);p=opt.offset*t;if(t>=1-.5*opt.fade){o=(1-t)/(1-.5*opt.fade)}}return{transform:[s,-Math.tan(k*Math.PI/180),0,0,0,1,0,-p,0,0,1,0,0,0,0,1],opacity:o}}};module.exports=ret},{}],20:[function(require,module,exports){var ret;ret={name:"orbit",preset:{orbit:{count:12,radius:60,unit:"px"}},edit:{count:{default:8,type:"number",min:4,max:36},radius:{default:60,type:"number",unit:"%",min:0,max:1e3},unit:{default:"px",type:"choice",values:["px","%",""]}},css:function(opt){var list,i$,to$,i,r,a,x,y,p;list=[];for(i$=0,to$=opt.count;i$<=to$;++i$){i=i$;r=360*i/opt.count;a=Math.PI*2*i/opt.count;x=Math.sin(a)*opt.radius;y=-Math.cos(a)*opt.radius;p=100*i/opt.count;list.push(" "+p+"% {\nanimation-timing-function: linear;\ntransform: translate("+x+opt.unit+","+y+opt.unit+") rotate("+r+"deg) } ")}return" @keyframes "+opt.name+" { "+list.join("\n")+" } "},js:function(t,opt){var m;m=this.affine(t,opt).transform;m=[m[0],-m[1],m[4],-m[5],m[3],-m[7]];return{transform:"matrix("+m.join(",")+")"}},affine:function(t,opt){var a,x,y;a=Math.PI*2*t;x=Math.sin(a)*opt.radius;y=-Math.cos(a)*opt.radius;return{transform:[Math.cos(a),Math.sin(a),0,x,-Math.sin(a),Math.cos(a),0,-y,0,0,1,0,0,0,0,1]}}};module.exports=ret},{}],21:[function(require,module,exports){var ret;ret={name:"patrol",preset:{breath:{steep:.6,offset:.06,prop:function(f,c){return{transform:"scale("+(1+f.value*c.offset-.03)+")"}},value:function(t,c){return{transform:anikit.util.s(1+t*c.offset-.03)}}},dim:{steep:.6,offset:.5,prop:function(f,c){return{opacity:.5+f.value*c.offset}},value:function(t,c){return{opacity:.5+t*c.offset}}},metronome:{steep:.6,offset:10,rotate:30,unit:"px",prop:function(f,c){return{transform:"translate("+f.value*c.offset+c.unit+") rotate("+f.value*c.rotate+"deg)"}},value:function(t,c){var a;a=t*c.rotate*Math.PI/180;return{transform:[Math.cos(a),Math.sin(a),0,t*c.offset,-Math.sin(a),Math.cos(a),0,0,0,0,1,0,0,0,0,1]}}},swing:{steep:.6,offset:30,unit:"",prop:function(f,c){return{transform:"rotate("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.offset*Math.PI/180)}}},"wander-v":{steep:.6,offset:10,unit:"px",prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset+c.unit+")"}},value:function(t,c){return{transform:anikit.util.ty(t*c.offset)}}},wander:{steep:.6,offset:10,unit:"px",prop:function(f,c){return{transform:"translate("+f.value*c.offset+c.unit+",0)"}},value:function(t,c){return{transform:anikit.util.tx(t*c.offset)}}}},edit:[{steep:{default:.6,type:"number",min:0,max:1,step:.01},offset:{default:10,type:"number",unit:"px",min:0,max:100}},.01,{unit:{default:"px",type:"choice",values:["px","%",""]}}],timing:function(t,opt){var p;p=[opt.steep,0,1-opt.steep,1];if(t<.5){t=cubic.Bezier.y(cubic.Bezier.t(t*2,p),p)/2}else{t=cubic.Bezier.y(cubic.Bezier.t((t-.5)*2,p),p)/2+.5}t=1-4*Math.abs(t-.5);return t},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],22:[function(require,module,exports){var ret;ret={name:"rubber",preset:{jingle:{count:7,offset:10,ratio:.6,delay:.1,unit:"",prop:function(f,c){return{transform:"rotate("+f.value*c.offset+"deg)","transform-origin":"50% 0%"}},value:function(t,c){return{transform:anikit.util.rz(t*c.offset*Math.PI/180),transformOrigin:[.5,0,.5]}}},"rubber-v":{count:7,offset:.2,ratio:.7,delay:.3,unit:"",prop:function(f,c){return{transform:"scaleY("+(1+f.value*c.offset)+")"}},value:function(t,c){return{transform:anikit.util.sy(1+t*c.offset)}}},rubber:{count:7,offset:.2,ratio:.7,delay:.3,unit:"",prop:function(f,c){return{transform:"scaleX("+(1+f.value*c.offset)+")"}},value:function(t,c){return{transform:anikit.util.sx(1+t*c.offset)}}},"shake-v":{count:5,offset:10,ratio:.6,delay:.3,unit:"px",prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset+c.unit+")"}},value:function(t,c){return{transform:anikit.util.ty(t*c.offset)}}},shake:{count:5,offset:10,ratio:.7,delay:.3,unit:"px",prop:function(f,c){return{transform:"translate("+f.value*c.offset+c.unit+",0)"}},value:function(t,c){return{transform:anikit.util.tx(t*c.offset)}}},tick:{count:7,offset:20,ratio:.7,delay:.3,unit:"",prop:function(f,c){return{transform:"rotate("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.offset*Math.PI/180)}}},smash:{count:4,offset:30,ratio:0,delay:.5,unit:"",sampleCount:20,errorThreshold:.001,prop:function(f,c){return{transform:"rotate("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.offset*Math.PI/180)}}},"jelly-alt":{count:7,offset:10,ratio:.7,delay:.3,unit:"",prop:function(f,c){return{transform:"skewX("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:anikit.util.kx(t*c.offset*Math.PI/180)}}},jelly:{count:5,offset:10,ratio:.6,delay:.3,unit:"px",prop:function(f,c){return{transform:"translate("+f.value*-c.offset+c.unit+",0) skewX("+f.value*c.offset+"deg)"}},value:function(t,c){return{transform:[1,-Math.tan(t*c.offset*Math.PI/180),0,t*-c.offset,0,1,0,0,0,0,1,0,0,0,0,1]}}},damage:{count:10,offset:1,ratio:.8,delay:.2,unit:"",prop:function(f,c){return{opacity:1-f.value*c.offset}},value:function(t,c){return{opacity:1-t*c.offset}}}},edit:{count:{default:10,type:"number",min:0,max:50},offset:{default:1,type:"number",min:0,max:100,step:.01,unit:"px"},ratio:{default:.8,type:"number",min:0,max:1,step:.01},delay:{default:.2,type:"number",min:0,max:1,step:.01},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){var len,idx,v1,v2;if(t<opt.delay){return t/opt.delay}len=(1-opt.delay)/opt.count;idx=Math.floor((t-opt.delay)/len);t=(t-(idx*len+opt.delay))/len;t=easing.js.easeOutQuad(t);v1=Math.pow(opt.ratio,idx)*Math.pow(-1,idx);v2=Math.pow(opt.ratio,idx+1)*Math.pow(-1,idx+1);return(v2-v1)*t+v1},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],23:[function(require,module,exports){var ret;ret={name:"rush",preset:{"rush-btt":{dur:2,steep:.4,offset_near:20,offset_far:200,direction:-1,percent_in:.6,percent_out:.8,skew:30,unit:"px",sampleCount:40,errorThreshold:.001,prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset_far*c.direction+c.unit+")\nskewY("+f.value*c.skew*c.direction+"deg)",opacity:Math.cos(f.value*Math.PI*.5)}},value:function(t,c){return{transform:[1,-Math.tan(t*c.skew*c.direction*Math.PI/180),0,0,0,1,0,-t*c.offset_far*c.direction,0,0,1,0,0,0,0,1],opacity:Math.cos(t*Math.PI*.5)}}},"rush-ttb":{dur:2,steep:.4,offset_near:20,offset_far:200,direction:1,percent_in:.6,percent_out:.8,skew:30,unit:"px",sampleCount:40,errorThreshold:.001,prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset_far*c.direction+c.unit+")\nskewY("+f.value*c.skew*c.direction+"deg)",opacity:Math.cos(f.value*Math.PI*.5)}},value:function(t,c){return{transform:[1,-Math.tan(t*c.skew*c.direction*Math.PI/180),0,0,0,1,0,-t*c.offset_far*c.direction,0,0,1,0,0,0,0,1],opacity:Math.cos(t*Math.PI*.5)}}},"rush-rtl":{dur:2,steep:.4,offset_near:20,offset_far:200,direction:-1,percent_in:.6,percent_out:.8,skew:30,unit:"px",sampleCount:40,errorThreshold:.001,prop:function(f,c){return{transform:"translate("+f.value*c.offset_far*c.direction+c.unit+",0)\nskew("+f.value*c.skew*-c.direction+"deg)",opacity:Math.cos(f.value*Math.PI*.5)}},value:function(t,c){return{transform:[1,-Math.tan(t*c.skew*-c.direction*Math.PI/180),0,t*c.offset_far*c.direction,0,1,0,0,0,0,1,0,0,0,0,1],opacity:Math.cos(t*Math.PI*.5)}}},"rush-ltr":{dur:2,steep:.4,offset_near:20,offset_far:200,direction:1,percent_in:.6,percent_out:.8,skew:30,unit:"px",sampleCount:40,errorThreshold:.001,prop:function(f,c){return{transform:"translate("+f.value*c.offset_far*c.direction+c.unit+",0)\nskew("+f.value*c.skew*-c.direction+"deg)",opacity:Math.cos(f.value*Math.PI*.5)}},value:function(t,c){return{transform:[1,-Math.tan(t*c.skew*-c.direction*Math.PI/180),0,t*c.offset_far*c.direction,0,1,0,0,0,0,1,0,0,0,0,1],opacity:Math.cos(t*Math.PI*.5)}}}},edit:{steep:{default:.6,type:"number",min:0,max:1},offset_near:{default:20,type:"number",unit:"px",min:0,max:1e3},offset_far:{default:200,type:"number",unit:"px",min:0,max:1e3},direction:{default:-1,type:"number",min:-1,max:1,step:2},percent_in:{default:.7,type:"number",unit:"%",min:0,max:100},percent_out:{default:.8,type:"number",unit:"%",min:0,max:100},skew:{default:15,type:"number",unit:"deg",min:0,max:360},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){var p1,pi,po,near;p1=[0,opt.steep,1-opt.steep,1];pi=opt.percent_in;po=opt.percent_out;if(po<pi){po=pi}near=opt.offset_near/opt.offset_far;if(t===0){return-1}if(t<pi/3){t=cubic.Bezier.y(cubic.Bezier.t(t*3/pi,p1),p1)*pi/3;return(near+1)*t/(pi/3)-1}if(t<pi){t=(t-pi/3)*3.75/pi;return near*Math.cos(t*Math.PI)*Math.pow(.5,t)}if(t<po){return 0}return(t-po)/(1-po)},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],24:[function(require,module,exports){var ret;ret={name:"slide",preset:{"slide-ltr":{local:{errorThreshold:1e-4,sampleCount:20},offset:200,prop:function(f,c){return{transform:"translate("+f.value*c.offset+c.unit+",0)",opacity:f.value<=-.8||f.value>=.8?0:1}},value:function(t,c){return{transform:anikit.util.tx(t*c.offset),opacity:t<=-.8||t>=.8?0:1}}},"slide-rtl":{local:{errorThreshold:1e-4,sampleCount:20},offset:-200,prop:function(f,c){return{transform:"translate("+f.value*c.offset+c.unit+",0)",opacity:f.value<=-.8||f.value>=.8?0:1}},value:function(t,c){return{transform:anikit.util.tx(t*c.offset),opacity:t<=-.8||t>=.8?0:1}}},"slide-btt":{local:{errorThreshold:1e-4,sampleCount:20},offset:-200,prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset+c.unit+")",opacity:f.value<=-.8||f.value>=.8?0:1}},value:function(t,c){return{transform:anikit.util.ty(t*c.offset),opacity:t<=-.8||t>=.8?0:1}}},"slide-ttb":{local:{errorThreshold:1e-4,sampleCount:20},offset:200,prop:function(f,c){return{transform:"translate(0,"+f.value*c.offset+c.unit+")",opacity:f.value<=-.8||f.value>=.8?0:1}},value:function(t,c){return{transform:anikit.util.ty(t*c.offset),opacity:t<=-.8||t>=.8?0:1}}}},edit:{steep:{default:.3,type:"number",min:.3,max:1,step:.01},offset:{default:200,type:"number",unit:"px",min:-2e3,max:2e3},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){var p1,p2;p1=[opt.steep,0,1,1-opt.steep];p2=[0,opt.steep,1-opt.steep,1];if(t<.5){t=cubic.Bezier.y(cubic.Bezier.t(t*2,p1),p1)}else{t=cubic.Bezier.y(cubic.Bezier.t((t-.5)*2,p2),p2)/2;t=t*2-1}return t},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],25:[function(require,module,exports){var ret;ret={name:"spin",preset:{"coin-h":{steep:.4,cycle:3600,dur:2,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotateY("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.ry(t*c.cycle*Math.PI/180)}}},"coin-v":{steep:.4,cycle:3600,dur:2,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotateX("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.rx(t*c.cycle*Math.PI/180)}}},cycle:{steep:0,cycle:360,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotate("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.cycle*Math.PI/180)}}},"flip-h":{steep:.4,cycle:360,flip:true,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotateY("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.ry(t*c.cycle*Math.PI/180)}}},"flip-v":{steep:.4,cycle:360,flip:true,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotateX("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.rx(t*c.cycle*Math.PI/180)}}},"spin-fast":{steep:.4,cycle:1800,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotate("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.cycle*Math.PI/180)}}},spin:{steep:.4,cycle:360,local:{errorThreshold:.001,sampleCount:20},prop:function(f,c){return{transform:"rotate("+f.value*c.cycle+"deg)"}},value:function(t,c){return{transform:anikit.util.rz(t*c.cycle*Math.PI/180)}}}},edit:{steep:{default:.4,type:"number",min:0,max:1,step:.01},cycle:{default:360,type:"number",unit:"deg",min:0,max:3600,step:360},flip:{default:false,type:"boolean"},unit:{default:"px",type:"choice",values:["px","%",""]}},timing:function(t,opt){var p1,p2;p1=[opt.steep,0,1,1-opt.steep];p2=[0,opt.steep,1-opt.steep,1];if(opt.flip){p1=p2}if(t===0||t===1){return t}if(t<.5){t=cubic.Bezier.y(cubic.Bezier.t(t*2,p1),p1);t=t*.5}else{t=cubic.Bezier.y(cubic.Bezier.t((t-.5)*2,p2),p2);t=t*.5+.5}return t},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],26:[function(require,module,exports){var ret;ret={name:"squeeze",preset:{squeeze:{local:{sampleCount:20,errorThreshold:.001},prop:function(f,c){var sx,sy;sx=1-2*Math.abs(.5-f.value)*c.zoomx;sy=1-2*(.5-Math.abs(.5-f.value))*c.zoomy;return{transform:"scale("+sx+","+sy+")"}},value:function(t,c){var sx,sy;sx=1-2*Math.abs(.5-t)*c.zoomx;sy=1-2*(.5-Math.abs(.5-t))*c.zoomy;return{transform:[sx,0,0,0,0,sy,0,0,0,0,1,0,0,0,0,1]}}}},edit:{steep:{default:.5,type:"number",min:0,max:1,step:.01},zoomx:{default:.5,type:"number",min:0,max:3,step:.01},zoomy:{default:.5,type:"number",min:0,max:3,step:.01}},timing:function(t,opt){var p1,d;p1=[0,opt.steep,1-opt.steep,1];d=(t-Math.floor(t*2)*.5)*2;d=cubic.Bezier.y(cubic.Bezier.t(d,p1),p1)*.5;d=d+Math.floor(t*2)*.5;return d},css:function(opt){var ref$,ref1$,this$=this;return easingFit.fitToKeyframes(function(it){return this$.timing(it,opt)},(ref$=(ref1$=opt.local||{},ref1$.config=opt,ref1$),ref$.name=opt.name,ref$.prop=opt.prop,ref$))},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],27:[function(require,module,exports){var ret;ret={name:"surprise",preset:{surprise:{}},edit:{zoom_min:{default:.5,type:"number",min:0,max:10,step:.1},zoom_max:{default:1,type:"number",min:0,max:10,step:.1},skew:{default:25,type:"number",unit:"deg",min:-90,max:90}},css:function(opt){return"@keyframes "+opt.name+" {\n  0% { transform: skewX(0deg) scale(1); }\n  10% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_min+"); }\n  20% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_min+"); }\n  30% { transform: skewX("+opt.skew+"deg) scale("+opt.zoom_max+"); }\n  40% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_max+"); }\n  50% { transform: skewX("+opt.skew+"deg) scale("+opt.zoom_max+"); }\n  60% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_max+"); }\n  70% { transform: skewX("+opt.skew+"deg) scale("+opt.zoom_max+"); }\n  80% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_max+"); }\n  90% { transform: skewX("+opt.skew+"deg) scale("+opt.zoom_max+"); }\n  100% { transform: skewX("+-opt.skew+"deg) scale("+opt.zoom_max+"); }\n}"},js:function(t,opt){var m;m=this.affine(t,opt).transform;m=[m[0],-m[1],m[4],m[5],m[3],-m[7]];return{transform:"matrix("+m.join(",")+")"}},affine:function(t,opt){var ref$,k1,k2,s1,s2,d,k,s;ref$=[0,0,opt.zoom_min,opt.zoom_min],k1=ref$[0],k2=ref$[1],s1=ref$[2],s2=ref$[3];d=Math.floor(t*10);if(d===0){ref$=[0,-1],k1=ref$[0],k2=ref$[1]}else if(d===1){ref$=[-1,-1],k1=ref$[0],k2=ref$[1]}else{ref$=[Math.pow(-1,d-1),Math.pow(-1,d)],k1=ref$[0],k2=ref$[1]}if(d===0){ref$=[1,opt.zoom_min],s1=ref$[0],s2=ref$[1]}else{if(d>1){s2=opt.zoom_max}if(d>2){s1=opt.zoom_max}}t=10*t-d;k=(k2-k1)*t+k1;s=(s2-s1)*t+s1;return{transform:[s,-Math.tan(k*opt.skew*Math.PI/180),0,0,0,s,0,0,0,0,1,0,0,0,0,1]}}};module.exports=ret},{}],28:[function(require,module,exports){var ret;ret={name:"tremble",preset:{measure:{dur:5,count:30,offset:0,degree:30,zoom:0},shiver:{dur:.5,count:30,offset:0,degree:0,zoom:.1},swim:{dur:10,count:12,offset:12,degree:30,zoom:0,unit:"px"},tremble:{dur:.5,count:30,offset:8,degree:0,zoom:0,unit:"px"}},edit:{count:{default:30,type:"number",min:0,max:100},offset:{default:4,type:"number",unit:"px",min:0,max:30},degree:{default:0,type:"number",unit:"degree",min:0,max:360},zoom:{default:0,type:"number",min:0,max:2,step:.01},unit:{default:"px",type:"choice",values:["px","%",""]}},prop:function(f,opt){var ref$,x,y,r,s;ref$=this.calc(f.value,opt),x=ref$[0],y=ref$[1],r=ref$[2],s=ref$[3];return{transform:"translate("+x+opt.unit+","+y+opt.unit+") rotate("+r+"deg) scale("+s+")"}},css:function(opt){var ret,i$,to$,i,p;ret=["@keyframes "+opt.name+" {","  0% { transform: "+this.prop({value:0},opt).transform+" }"];for(i$=1,to$=opt.count;i$<to$;++i$){i=i$;p=easingFit.round(100*i/opt.count);ret.push("  "+p+"% { transform: "+this.prop({value:p/100},opt).transform+"; animation-timing-function: linear }")}ret.push("  100% { transform: translate(0,0) rotate(0) scale(1) }");ret.push("}");return ret.join("\n")},calc:function(t,opt){var offset,degree,zoom,x,y,r,s;offset=opt.offset,degree=opt.degree,zoom=opt.zoom;if(t===0||t===1){return[0,0,0,1]}x=anikit.util.noise(t*78779)*offset-offset*.5;y=anikit.util.noise(t*57793)*offset-offset*.5;r=anikit.util.noise(t*19901)*degree-degree*.5;s=1+anikit.util.noise(t+31393)*zoom-zoom*.5;return[x,y,r,s]},js:function(t,opt){var values,mat;values=this.affine(t,opt);mat=values.transform;return{transform:"matrix("+[mat[0],mat[1],mat[4],mat[5],mat[3],mat[7]].join(",")+")"}},affine:function(t,opt){var t1,t2,ref$,x1,y1,r1,s1,x2,y2,r2,s2,x,y,r,s;t1=Math.floor(t*opt.count)/opt.count;t2=Math.ceil(t*opt.count)/opt.count;ref$=this.calc(t1-Math.floor(t1),opt),x1=ref$[0],y1=ref$[1],r1=ref$[2],s1=ref$[3];ref$=this.calc(t2-Math.floor(t2),opt),x2=ref$[0],y2=ref$[1],r2=ref$[2],s2=ref$[3];t=(t-t1)/(t2-t1);x=(x2-x1)*t+x1;y=(y2-y1)*t+y1;r=((r2-r1)*t+r1)*Math.PI/180;s=(s2-s1)*t+s1;return{transform:[s*Math.cos(r),Math.sin(r),0,x,-Math.sin(r),s*Math.cos(r),0,y,0,0,s,0,0,0,0,1]}}};module.exports=ret},{}],29:[function(require,module,exports){var value,ret;value=function(t,c){var r,s,o;if(t<.6){r=t*c.rotate/.6*Math.PI*2;s=(1-c.zoom)*(t/.6)+c.zoom;o=t/.6}else{r=c.rotate*Math.PI*2;s=1;o=1-(t-.6)/(1-.6)}return{transform:[s*Math.cos(r),s*Math.sin(r),0,0,-s*Math.sin(r),s*Math.cos(r),0,0,0,0,s,0,0,0,0,1]}};ret={name:"vortex",preset:{"vortex-out":{steep:.3,rotate:5,zoom:.3,local:{sampleCount:20,errorThreshold:.01,segSampleCount:1e3},prop:function(f,c){var v,m;v=value(f.value,c);m=anikit.util.m4to3(v.transform);return v.transform="matrix("+m.join(",")+")",v},value:function(t,c){return value(t,c)}},"vortex-in":{steep:.3,rotate:5,zoom:3,local:{sampleCount:20,errorThreshold:.01,segSampleCount:1e3},prop:function(f,c){var v,m;v=value(f.value,c);m=anikit.util.m4to3(v.transform);return v.transform="matrix("+m.join(",")+")",v},value:function(t,c){return value(t,c)}}},edit:{dur:{default:2},steep:{default:.3,type:"number",min:0,max:.3,step:.01},rotate:{default:5,type:"number",min:0,max:20},zoom:{default:3,type:"number",min:0,max:10,step:.1}},timing:function(t,opt){var p1;p1=[opt.steep,0,1,1-opt.steep];if(t===0){return 0}if(t<.6){t=cubic.Bezier.y(cubic.Bezier.t(t/.6,p1),p1)*.6}else{t=cubic.Bezier.y(cubic.Bezier.t((t-.6)/(1-.6),p1),p1)*.4+.6}return t},css:function(opt){var s;s=opt.steep;return"@keyframes "+opt.name+" {\n  0%, 60% {\n    animation-timing-function: cubic-bezier("+s+", 0, 1, "+(1-s)+");\n  }\n  0% {\n    opacity: 0;\n    transform: rotate("+-360*opt.rotate+"deg) scale("+opt.zoom+");\n  }\n  60% {\n    opacity: 1;\n    transform: rotate(0deg) scale(1);\n  }\n  100% { opacity: 0; }\n}"},js:function(t,opt){return opt.prop({value:this.timing(t,opt)},opt)},affine:function(t,opt){return opt.value(this.timing(t,opt),opt)}};module.exports=ret},{}],30:[function(require,module,exports){var ret;ret={name:"wrench",preset:{wrench:{}},edit:{dur:{default:1},rotate:{default:45,type:"number",min:0,max:360,step:1}},css:function(opt){return"@keyframes "+opt.name+" {\n  20%, 36%, 70%, 86% {\n    transform: rotate(0deg);\n  }\n  0%, 50%, 100% {\n    transform: rotate("+opt.rotate+"deg);\n  }\n}"},js:function(t,opt){var m;m=anikit.util.m4to3(this.affine(t,opt).transform);return{transform:"matrix("+m.join(",")+")"}},affine:function(t,opt){var r;t=(t*2-Math.floor(t*2))*.5;if(t<.2){t=1-t/.2}else if(t>.36){t=(t-.36)/.14}else{t=0}r=t*opt.rotate*Math.PI/180;return{transform:[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1]}}};module.exports=ret},{}]},{},[8]);
